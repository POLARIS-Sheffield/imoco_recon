Bootstrap: docker
From: nvidia/cuda:12.4.1-cudnn-runtime-ubuntu22.04

%help
    iMoCo reconstruction (GPU) for HPC

%post
    apt update
    apt install -y python3 git
	python3 -m ensurepip --upgrade
	pip3 install cupy-cuda12x
	pip3 install h5py pydicom antspyx numpy matplotlib scipy sigpy tqdm numba
    git clone https://github.com/POLARIS-Sheffield/imoco_recon.git

%environment
    export SHELL=/bin/bash

%labels
    Author njstewart-eju

